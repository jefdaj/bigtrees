# TODO implement parsing a file that maps search labels -> regexes, then have the label be a column you can print in meta fmt. is that all the tooling you would need?
# TODO oh and maybe at least one capture group for git annex and homedir etc cases
# TODO --print0 option to add null delimiters? or is that overkill for now?

round-trip to dir bug(s):
  could the all-whitespace dir name in fail07 be a problem?
  try round-tripping just the "problem" file inside it to see
  2 bugs? symlink test should have better errmsg, and writing should create file

link info that turns out to be needed:
  target path
    will require a 2nd NUL-terminated path in the line before the name
    or after?
  whether target is in the tree (whether node info is about target or link)

use Data.Byteable instead of this "prettyHashLine" business?
did i just rediscover the need for an existing thing? binary instances
  but they don't exist for ospath yet (hasufell has an issue about where they should go)
x test whether you can round-trip ShortByteStrings <--> actual filenames, then bother with the rest
Arbitrary OsPath is probably defined by itself recursively and will fail :(
should i drop using directory-tree at all in favor of something with higher code quality?
immediate solution is obvious: use ShortByteString internally, convert to OsPath only when doing IO!
